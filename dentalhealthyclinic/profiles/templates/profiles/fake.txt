@login_required
def profile(request):
    """ Display the user's profile. """
    profile = get_object_or_404(UserProfile,user=request.user)

    if request.method == 'POST':
        form = UserProfileForm(request.POST, instance=profile)
        if form.is_valid():
            form.save()
            messages.success(request, 'Profile updated successfully')
        else:
            messages.error(request,'Update failed, Please ensure the form is valid.')
    else:

        form = UserProfileForm(instance = profile)
    orders = profile.orders.all()
    appointments = Appointment.objects.filter(email=request.user.email)  # Assuming the Appointment model has an 'email' field
 


    template = 'profiles/profile.html'
    context = {
        'on_profile_page':profile,
        'form':form,
        'orders':orders,
        'user': request.user,  # user object in the context
        'appointments': appointments, 

        }
    
    return render(request, template, context)


    <a class="basket-link-search rounded-circle d-sm-block d-md-none d-lg-none" href="{% url 'view_basket' %}"><i class="fa-solid fa-basket-shopping"></i></a>
------------------------------------------
css

    @keyframes fade-in {
        from {
          opacity: 0;
          transform: translateY(22px); /* Optional:  vertical translation */
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      
      .card {
        animation: fade-in 0.3s ease-in-out; /* Adjust duration and timing function as needed */
      }
      .card.in-view {
        animation: fade-in 0.2s ease-in-out; /* Same animation as before */
      }
      --------------------------------------
      js

      // for hotel stars 
        $(".special").each(function() { 
            // Check if the list item is empty
            if ($(this).children().length === 0) {
                // Append the word "Special" to the list item
                $(this).html("Special Place <i class=\"fa-solid fa-star text-wrning \"></i>");
            }
        });

        
        $('.show-more-btn').on('click', function() {
            $('.travel-package.d-none').slice(0, 4).removeClass('d-none'); // Show more deals
            if ($('.travel-package.d-none').length === 0) {
                $('.show-more-btn').hide();
                
            }
        }); 
  
  
  
        // for hotel stars show cards slowly 
        $('.card').click(function() {
      let packageId = $(this).data('package-id');
      $('#destinationModal' + packageId).modal('show'); // Show the corresponding modal
    });
  
  
  
  const $cards = $('.travel-package');
  
    // Set up the fading animation
    $cards.each(function() {
      $(this).css('opacity', '0');
    });
  
    // Function to check if an element is in view
    function isElementInViewport(el) {
      const rect = el.getBoundingClientRect();
      return (
        rect.top >= 0 &&
        rect.left >= 0 &&
        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
        rect.right <= (window.innerWidth || document.documentElement.clientWidth)
      );
    }
  
    // Function to fade in the cards when they come into view
    function fadeInCards() {
      $cards.each(function() {
        if (isElementInViewport(this)) {
          $(this).animate({ opacity: 1 }, 1000); // Adjust the duration as needed
        }
      });
    }
  
    // Call the fadeInCards function when the page is scrolled
    $(window).scroll(function() {
      fadeInCards();
    });
  
    // Call the fadeInCards function initially
    fadeInCards();



    // show travel deals
    function showImageDelayed() {
      // Get the image element
      var image = document.getElementById('travel_deals_image');
      $('#travel_deals_image').css('display', 'none');
      
      // Show the image after 6 seconds
      setTimeout(function() {
          image.style.display = 'block'; // Show the image
      }, 5000); // 6000 milliseconds = 6 seconds
  }

  // Call the function when the page finishes loading
  showImageDelayed();
    
  


    });